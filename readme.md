# KMB Developer Tools
`KMB Developer Tools` is a set of tools to access internal data of the Keller Mobile Application to help you test or diagnose problems quickly.


##  A Brief History

`KMB Developer Tools` was developed to be a standalone application so the Keller Mobile production app wasn't bloated with developer features. Great care was taken so the app reads the KMB database schema at runtime so any database structure changes will never break this app.


## Usage

### KellerMobile

1. **android:sharedUserLabel**

 Add the `sharedUserLabel` attribute to the following KellerMobile AndroidManifest.xml files:

 - `dev/android/App/KMBAPI/src/main`
- `dev/android/App/KMBUI/src/main`
- `dev/android/App/KellerMobile/src/main`

``` xml
<manifest 
    . . .
          android:sharedUserId="com.jjkeller.kmb.shared"
    . . .
</manifest>
```

By default, Android assigns a user id to an application. It is the unique id for your application and means that nobody except the user with this id can reach your application's resources. However, in your manifest file, you can explicitly identify a user id for your application. When you declare the same user id for more than one application, they can reach each other's resources (data fields, views, etc.). You can display data from another application or run it in your process.

- Both applications with the share user ID must be signed with the same certificate. When running or debugging your project from the IDE, Android Studio automatically signs your APK with a debug certificate generated by the Android SDK tools. Thus when you compile `KellerMobile` and `KMB Developer Tools` using the same IDE, they will share the same signing certificate. You will have to un-install any previous versions of `KellerMobile` in order to install the new application ID.

2. **Compile the `KMB Developer Tools` Project in Android Studio**

 Compile and Run the `KMB Developer Tools` application from the TFS Souce Control location `$/TS-Dev/Development/KMB Platform/dev/android/KMBDeveloperTools`.



## Features

### KMB Developer Tools

1. **Execute SQL Queries**

 - Add, change, or delete records in the local KMB database. Supports INSERT, UPDATE, DELETE or PRAGMA statements.
- Save and Open commonly used SQL statements so you can easily re-run queries.
- Click a column header to display a Toast of the full column name or to copy it to the clipboard and paste it into a SQL Query.

2. **Database Management**

 - Backup and restore the KMB database so you can reuse test data without having to re-create the data each time.
- Copy a client's KMB database to your SDK card and restore it so you can debug using a clients actual database.

3. **Bluetooth Terminal**

 - Send and receive commands to a connected Bluetooth ELD device (similiar to CoolTerm).
- Email terminal output which can be helpful info to attach to a defect you've found.
- List of all ELD command syntax and descriptions. Save commands to a Favorites list for quick access.

4. **View KMB Error Log**

 - View the Error Log content. Press the Refresh button to update the display in real-time while the KMB app is still running.
- Basic `Find`, `Scroll to Top` and `Scroll to Bottom` commands.
- Email or Delete the Error Log.

5. **Email Diagnostics**

 - Quickly email the KMB Database and/or Error Log to yourself or another developer without having to re-run the KellerMobile app just to access the `Upload Diagnostics Info` command.
 - Email includes important Device information like `Manufacturer`, `Model`, `Brand`, `Android version` and `KMB Database version`. 

6. **Delete Diagnostics**

- Easily delete the KMB Database and/or Error Log for a fresh start without having to un-install the KellerMobile app or go thru the Application Manager to Clear data.

7. **Settings**

- `About` displays important Device information like `Manufacturer`, `Model`, `Brand`, `Android version`, `Database path` and `Database version`.
- `Display` allows you to customize your user experience between the `Light` or `Dark` theme and optionally add an `Accent Color`.
- `Privacy Policy` and `Terms of Service` to make our attorneys happy :)
